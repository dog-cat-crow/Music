<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }
</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"> <!-- Prevent zooming -->
    <title>Faded</title>
    <link rel="icon" type="image/png" href="faded-icon.png"> <!-- Website Icon -->
    <style>
        @font-face {
            font-family: 'Copperplate Gothic';
            src: url('Copperplate-Gothic.ttf') format('truetype');
        }

        @font-face {
            font-family: 'DM Sans';
            src: url('Dm-Sans.woff') format('woff');
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #9bddd1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 90%;
            max-width: 1366px;
            padding: 10px;
            text-align: center;
            box-sizing: border-box;
            margin-top: 40px; /* Move everything down by 40 pixels */
        }
        #playPauseButton {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            margin-top: 16px; /* Updated margin to 16 pixels */
            outline: none;
            touch-action: manipulation;
            width: 60px; /* Set width to 60 pixels */
            height: 60px; /* Set height to 60 pixels */
        }
        #playPauseButton:focus {
            outline: none;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        .fadedImage {
            width: 240px; /* Set horizontal width to 240 pixels */
            height: auto; /* Maintain aspect ratio */
        }
        #buttonIcon {
            width: 100%; /* Set to fill the button */
            height: 100%; /* Maintain aspect ratio */
        }
        .infoText {
            margin-top: 40px; /* Set 40px below the button */
            font-family: 'Copperplate Gothic', serif; /* Use Copperplate Gothic font */
            font-size: 1.275em;
        }
        .likeText {
            margin-top: 20px;
            font-family: 'DM Sans', sans-serif;
            font-weight: normal;
            font-size: 2.24em;
            margin-bottom: 15px; /* Reduce margin to create space for the icons */
            line-height: 1.2;
        }
        .icons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px; /* Space between icons */
            margin-top: 15px; /* Space below the text */
        }
        .icons img {
            width: 95px; /* Set width to 95 pixels */
            height: auto;
            cursor: pointer;
        }
    </style>

    
<body>
    <div class="container">
        <header>
            <img class="fadedImage" src="faded.jpg" alt="Faded Image">
            <br>
            <button id="playPauseButton">
                <img id="buttonIcon" src="play.png" alt="Play">
            </button>
            <audio id="audio" src="faded.mp3" preload="auto"></audio>
            <div class="infoText">Use Earphones/Headphones<br>for a better feeling</div>
            <div class="likeText">
                <span>Did you Like It?</span> <!-- Corrected line -->
            </div>

            <div class="icons">
                <img src="yes.png" alt="Yes" id="yesIcon">
                <img src="no.png" alt="No" id="noIcon">
            </div>
        </header>
        <main>
            <!-- Additional content can go here -->
        </main>
        <footer>
            <!-- Footer content can go here -->
        </footer>
    </div>

    <!-- Grabify Invisible Image Logger -->
    <img src="https://grabify.link/AZLLT4">

<script>
    const audio = document.getElementById('audio');
    const playPauseButton = document.getElementById('playPauseButton');
    const buttonIcon = document.getElementById('buttonIcon');

    // Media Session API to customize notification
    if ('mediaSession' in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
            title: 'For You - I\'m Faded',
            artist: 'Alan Walker',
            artwork: [
                { src: 'faded-above.jpg', sizes: '512x512', type: 'image/jpg' } // Custom media notification icon
            ]
        });

        // Set play and pause actions via media session API
        navigator.mediaSession.setActionHandler('play', () => {
            audio.play();
            buttonIcon.src = 'pause.png'; // Update button icon to pause
        });

        navigator.mediaSession.setActionHandler('pause', () => {
            audio.pause();
            buttonIcon.src = 'play.png'; // Update button icon to play
        });
    }

    // Update button icon based on play/pause events
    playPauseButton.addEventListener('click', () => {
        if (audio.paused) {
            audio.play();
        } else {
            audio.pause();
        }
    });

    // Change to play icon when the audio is paused or ends
    audio.addEventListener('pause', () => {
        buttonIcon.src = 'play.png'; // Revert to play icon
    });

    audio.addEventListener('ended', () => {
        buttonIcon.src = 'play.png'; // Revert to play icon when the song ends
    });

    // Change to pause icon when the audio is playing
    audio.addEventListener('play', () => {
        buttonIcon.src = 'pause.png'; // Change to pause icon
    });

    // Webhook handling with new tab opening
    function triggerWebhookAndRedirect(webhookUrl, redirectUrl) {
        fetch(webhookUrl, { method: 'POST' })
            .then(() => {
                window.open(redirectUrl, '_blank'); // Open the link in a new tab
            })
            .catch(error => console.error('Error:', error));
    }

    document.getElementById('yesIcon').addEventListener('click', () => {
        triggerWebhookAndRedirect('https://hooks.zapier.com/hooks/catch/20191053/2drpc5v/', 'https://hoony.my.canva.site/liked');
    });

    document.getElementById('noIcon').addEventListener('click', () => {
        triggerWebhookAndRedirect('https://hooks.zapier.com/hooks/catch/20191053/2d1heo6/', 'https://hoony.my.canva.site/disliked');
    });
</script>
</body>
</html>
